function CourseDetail(){}CourseDetail.prototype.run=function(){this.initPlayer()},CourseDetail.prototype.initPlayer=function(){var e=$("#video_info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,stretching:"uniform",autoStart:!1,repeat:!1,volume:100,controls:!0,tokenBinding:!0,ak:"9971f77157eb434bbd21b25e6bf399cc"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&myajax.get({url:"/course/course_token/",data:{video:t},success:function(e){if(200===e.code){var t=e.data.token;n.setToken(o.file,t)}else window.messageBox.showInfo(e.message),n.stop()},fail:function(e){console.log(e)}})})},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm9TcGFuIiwiJCIsInZpZGVvVXJsIiwiYXR0ciIsImNvdmVyVXJsIiwicGxheWVyIiwiY3liZXJwbGF5ZXIiLCJzZXR1cCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsZSIsImltYWdlIiwic3RyZXRjaGluZyIsImF1dG9TdGFydCIsInJlcGVhdCIsInZvbHVtZSIsImNvbnRyb2xzIiwidG9rZW5CaW5kaW5nIiwiYWsiLCJvbiIsImUiLCJ0ZXN0IiwibXlhamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzdG9wIiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBRVRBLGFBQWFDLFVBQVVDLElBQU0sV0FDekJDLEtBQUtDLGNBR1RKLGFBQWFDLFVBQVVHLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVdGLEVBQWNHLEtBQUssa0JBQzlCQyxFQUFXSixFQUFjRyxLQUFLLGtCQUM5QkUsRUFBU0MsWUFBWSxtQkFBbUJDLE1BQU0sQ0FDOUNDLE1BQVEsT0FDUkMsT0FBUyxPQUNUQyxLQUFPUixFQUNQUyxNQUFPUCxFQUNQUSxXQUFZLFVBQ1pDLFdBQVksRUFDWkMsUUFBUyxFQUNUQyxPQUFTLElBQ1RDLFVBQVcsRUFDWEMsY0FBYyxFQUNkQyxHQUFJLHFDQUdSYixFQUFPYyxHQUFHLGFBQWEsU0FBVUMsR0FDeEIsT0FBT0MsS0FBS0QsRUFBRVYsT0FHbkJZLE9BQU9DLElBQUksQ0FDUEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKQyxNQUFTeEIsR0FFYnlCLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBTW1CLFFBRXhCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3ZCLEVBQU82QixRQUdmQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTTVCbkMsRUFBRSxZQUNxQixJQUFJTixjQUNWRSIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpe31cclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHZpZGVvSW5mb1NwYW4gPSAkKFwiI3ZpZGVvX2luZm9cIik7XHJcbiAgICB2YXIgdmlkZW9VcmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtdmlkZW8tdXJsJyk7XHJcbiAgICB2YXIgY292ZXJVcmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY292ZXItdXJsJyk7XHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xyXG4gICAgICAgIHdpZHRoIDogJzEwMCUnLFxyXG4gICAgICAgIGhlaWdodCA6ICcxMDAlJyxcclxuICAgICAgICBmaWxlIDogdmlkZW9VcmwsXHJcbiAgICAgICAgaW1hZ2U6IGNvdmVyVXJsLFxyXG4gICAgICAgIHN0cmV0Y2hpbmc6ICd1bmlmb3JtJyxcclxuICAgICAgICBhdXRvU3RhcnQgOiBmYWxzZSxcclxuICAgICAgICByZXBlYXQgOiBmYWxzZSxcclxuICAgICAgICB2b2x1bWUgOiAxMDAsXHJcbiAgICAgICAgY29udHJvbHMgOiB0cnVlLFxyXG4gICAgICAgIHRva2VuQmluZGluZzogdHJ1ZSxcclxuICAgICAgICBhazogJzk5NzFmNzcxNTdlYjQzNGJiZDIxYjI1ZTZiZjM5OWNjJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHBsYXllci5vbignYmVmb3JlUGxheScsZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIS9tM3U4Ly50ZXN0KGUuZmlsZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBteWFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvVXJsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59XHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KSJdfQ==
